(this.webpackJsonpcourseinfo=this.webpackJsonpcourseinfo||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(14),c=n.n(r),a=n(3),i=n(2),o=n(4),u=n.n(o),s="/api/persons",d=(n(37),n(0)),l=function(e){var t=e.status,n=e.tempName;return""===t?null:"added"===t?Object(d.jsxs)("div",{className:"added",children:["Added ",n]}):"update"===t?Object(d.jsxs)("div",{className:"update",children:["Information of ",n," has already been updated to server"]}):"delete"===t?Object(d.jsxs)("div",{className:"deleted",children:["Information of ",n," has already been removed from server"]}):void 0},j=function(e){var t=e.title;return Object(d.jsx)("h1",{children:t})},b=function(e){var t=e.newFilter,n=e.handleNewFilter;return Object(d.jsx)("form",{children:Object(d.jsxs)("div",{children:["filter shown with ",Object(d.jsx)("input",{value:t,onChange:n})]})})},f=function(e){var t=e.handleNewPersonSubmit,n=e.handleNewName,r=e.handleNewNumber,c=e.newName,a=e.newNumber;return Object(d.jsxs)("form",{onSubmit:t,children:[Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{value:c,onChange:n})]}),Object(d.jsxs)("div",{children:["number: ",Object(d.jsx)("input",{value:a,onChange:r})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"add"})})]})},m=function(e){var t=e.person,n=e.deletePerson;return Object(d.jsx)("button",{style:{marginLeft:"5px"},onClick:function(){return n(t.id,t.name)},children:"Delete"})},h=function(e){var t=e.persons,n=e.newFilter,r=e.deletePerson;return""!==n?t.filter((function(e){return e.name.toLocaleLowerCase().includes(n.toLocaleLowerCase())})).map((function(e,t){return Object(d.jsxs)("p",{children:[e.name," ",e.number]},t)})):t.map((function(e,t){return Object(d.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px"},children:[e.name," ",e.number,Object(d.jsx)(m,{person:e,deletePerson:r})]},t)}))},O=function(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(""),o=Object(a.a)(c,2),m=o[0],O=o[1],p=Object(i.useState)(""),x=Object(a.a)(p,2),v=x[0],w=x[1],N=Object(i.useState)(""),g=Object(a.a)(N,2),S=g[0],y=g[1],P=Object(i.useState)(""),C=Object(a.a)(P,2),F=C[0],k=C[1],L=Object(i.useState)(""),D=Object(a.a)(L,2),I=D[0],B=D[1];Object(i.useEffect)((function(){u.a.get(s).then((function(e){return e.data})).then((function(e){r(e)}))}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)(j,{title:"Phonebook"}),Object(d.jsx)(l,{status:F,tempName:I}),Object(d.jsx)(b,{newFilter:S,handleNewFilter:function(e){y(e.target.value)}}),Object(d.jsx)(j,{title:"add a new"}),Object(d.jsx)(f,{handleNewName:function(e){O(e.target.value)},handleNewNumber:function(e){w(e.target.value)},handleNewPersonSubmit:function(e){var t,c,a,i={name:m,number:v},o=n.filter((function(e){return e.name===m}));n.some((function(e){return e.name===m}))?window.confirm("".concat(m," is already added to phonebook"))&&(c=o[0].id,a=i,u.a.put("".concat(s,"/").concat(c),a).then((function(e){return e.data}))).then((function(e){r(n.map((function(t){return t.id!==o[0].id?t:e})))})):(t=i,u.a.post(s,t).then((function(e){return e.data}))).then((function(e){r(n.concat(e))})),e.preventDefault()},newName:m,newNumber:v}),Object(d.jsx)(j,{title:"Numbers"}),Object(d.jsx)(h,{persons:n,newFilter:S,deletePerson:function(e,t){window.confirm("Delete ".concat(t,"?"))&&function(e){return u.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))}(e).then((function(t){r(n.filter((function(t){return t.id!==e})))})),B(t),k("delete")}})]})};c.a.render(Object(d.jsx)(O,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.1c553d5b.chunk.js.map