(this.webpackJsonpcourseinfo=this.webpackJsonpcourseinfo||[]).push([[0],{40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(17),r=n.n(a),c=n(8),o=n(3),i=n(2),u=n(5),s=n.n(u),d="http://localhost:3001/api/persons",l=(n(40),n(0)),j=function(e){var t=e.status,n=e.tempName;return""===t?null:"added"===t?Object(l.jsxs)("div",{className:"added",children:["Added ",n]}):"update"===t?Object(l.jsxs)("div",{className:"update",children:["Information of ",n," has already been updated to server"]}):"delete"===t?Object(l.jsxs)("div",{className:"deleted",children:["Information of ",n," has already been removed from server"]}):void 0},b=function(e){var t=e.title;return Object(l.jsx)("h1",{children:t})},f=function(e){var t=e.newFilter,n=e.handleNewFilter;return Object(l.jsx)("form",{children:Object(l.jsxs)("div",{children:["filter shown with ",Object(l.jsx)("input",{value:t,onChange:n})]})})},m=function(e){var t=e.handleNewPersonSubmit,n=e.handleNewName,a=e.handleNewNumber,r=e.newName,c=e.newNumber;return Object(l.jsxs)("form",{onSubmit:t,children:[Object(l.jsxs)("div",{children:["name: ",Object(l.jsx)("input",{value:r,onChange:n})]}),Object(l.jsxs)("div",{children:["number: ",Object(l.jsx)("input",{value:c,onChange:a})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})},h=function(e){var t=e.person,n=e.deletePerson;return Object(l.jsx)("button",{style:{marginLeft:"5px"},onClick:function(){return n(t.id,t.name)},children:"Delete"})},O=function(e){var t=e.persons,n=e.newFilter,a=e.deletePerson;return""!==n?t.filter((function(e){return e.name.toLocaleLowerCase().includes(n.toLocaleLowerCase())})).map((function(e,t){return Object(l.jsxs)("p",{children:[e.name," ",e.number]},t)})):t.map((function(e,t){return Object(l.jsxs)("div",{style:{paddingTop:"10px",paddingBottom:"10px"},children:[e.name," ",e.number,Object(l.jsx)(h,{person:e,deletePerson:a})]},t)}))},p=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),u=Object(o.a)(r,2),h=u[0],p=u[1],v=Object(i.useState)(""),x=Object(o.a)(v,2),w=x[0],N=x[1],g=Object(i.useState)(""),C=Object(o.a)(g,2),S=C[0],L=C[1],y=Object(i.useState)(""),P=Object(o.a)(y,2),k=P[0],F=P[1],D=Object(i.useState)(""),I=Object(o.a)(D,2),B=I[0],E=I[1];Object(i.useEffect)((function(){s.a.get(d).then((function(e){return e.data})).then((function(e){a(e)}))}),[]);return Object(l.jsxs)("div",{children:[Object(l.jsx)(b,{title:"Phonebook"}),Object(l.jsx)(j,{status:k,tempName:B}),Object(l.jsx)(f,{newFilter:S,handleNewFilter:function(e){L(e.target.value)}}),Object(l.jsx)(b,{title:"add a new"}),Object(l.jsx)(m,{handleNewName:function(e){p(e.target.value)},handleNewNumber:function(e){N(e.target.value)},handleNewPersonSubmit:function(e){for(var t={name:h,number:w},r=1,o=0;o<n.length;o++){var i=n[o].name.toLowerCase().localeCompare(h.toLocaleLowerCase()),u=n[o].number.localeCompare(w);if(0===i&&0===u){alert("".concat(n[o].name," is already added to phonebook")),r=0;break}0===i&&0!==u&&function(){var e,i,u=n[o].id;(e=n[o],i=t,s.a.put("".concat(d,"/").concat(e.id),i).then((function(e){return e.data}))).then((function(e){a([].concat(Object(c.a)(n.filter((function(e){return e.id!==u}))),[e]))})),E(n[o].name),F("update"),r=0}()}1===r&&function(){var e;(e=t,s.a.post(d,e).then((function(e){return e.data}))).then((function(e){a([].concat(Object(c.a)(n),[e]))})),E(h),F("added")}(),e.preventDefault()},newName:h,newNumber:w}),Object(l.jsx)(b,{title:"Numbers"}),Object(l.jsx)(O,{persons:n,newFilter:S,deletePerson:function(e,t){window.confirm("Delete ".concat(t,"?"))&&function(e){return s.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))}(e).then((function(t){a(n.filter((function(t){return t.id!==e})))})),E(t),F("delete")}})]})};r.a.render(Object(l.jsx)(p,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.38212ffa.chunk.js.map